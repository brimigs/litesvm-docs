---
title: Environment Configuration
description: Builder pattern methods for configuring LiteSVM test environments
---

import { Callout } from "fumadocs-ui/components/callout";

All configuration methods use the builder pattern with `LiteSVM::default()`.

## with_compute_budget

```rust
pub fn with_compute_budget(self, compute_budget: ComputeBudget) -> Self
```

Set compute unit limits and heap size.

```rust
use solana_sdk::compute_budget::ComputeBudget;

let mut svm = LiteSVM::default()
    .with_compute_budget(ComputeBudget {
        compute_unit_limit: 1_400_000,
        heap_size: 256 * 1024,
        ..ComputeBudget::default()
    });
```

## with_sigverify

```rust
pub fn with_sigverify(self, sigverify: bool) -> Self
```

Enable or disable signature verification. Default: `true`.

```rust
// Disable for faster tests
let mut svm = LiteSVM::default()
    .with_sigverify(false);
```

## with_blockhash_check

```rust
pub fn with_blockhash_check(self, check: bool) -> Self
```

Enable or disable blockhash validation. Default: `true`.

```rust
// Disable to use any blockhash
let mut svm = LiteSVM::default()
    .with_blockhash_check(false);
```

## with_transaction_history

```rust
pub fn with_transaction_history(self, capacity: usize) -> Self
```

Set number of transactions to keep in history. Default: `0`.

```rust
// Keep last 100 transactions
let mut svm = LiteSVM::default()
    .with_transaction_history(100);
```

## with_lamports

```rust
pub fn with_lamports(self, lamports: u64) -> Self
```

Set initial lamports for fee collection. Default: `1_000_000_000`.

```rust
let mut svm = LiteSVM::default()
    .with_lamports(10_000_000_000);
```

## with_default_programs

```rust
pub fn with_default_programs(self) -> Self
```

Include default SPL programs (Token, Associated Token, etc.).

```rust
let mut svm = LiteSVM::default()
    .with_default_programs();
```

## with_sysvars

```rust
pub fn with_sysvars(self, sysvars: Vec<(Pubkey, Vec<u8>)>) -> Self
```

Set custom sysvar values at initialization.

```rust
use solana_sdk::sysvar;

let mut svm = LiteSVM::default()
    .with_sysvars(vec![
        // Custom sysvars
    ]);
```

## with_feature_set

```rust
pub fn with_feature_set(self, feature_set: Arc<FeatureSet>) -> Self
```

Configure Solana feature set for testing specific runtime features.

```rust
use solana_sdk::feature_set::FeatureSet;
use std::sync::Arc;

let mut svm = LiteSVM::default()
    .with_feature_set(Arc::new(FeatureSet::all_enabled()));
```
