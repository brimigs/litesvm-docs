---
title: SPL Token Operations
description: Create mints, token accounts, and transfer tokens
---

import { Callout } from "fumadocs-ui/components/callout";

<Callout>Requires `cargo add --dev litesvm-token spl-token`</Callout>

## Overview

This example demonstrates how to test SPL token operations including creating mints, token accounts, and minting tokens.

## Complete Test

```rust title="tests/spl_token_test.rs"
use litesvm::LiteSVM;
use litesvm_token::{CreateMint, MintTo, CreateAccount};
use solana_sdk::{
    signature::{Keypair, Signer},
    transaction::Transaction,
};

#[test]
fn test_spl_token_operations() {
    let mut svm = LiteSVM::new();

    // Create accounts
    let authority = Keypair::new();
    let user = Keypair::new();

    // Fund authority
    svm.airdrop(&authority.pubkey(), 10_000_000_000).unwrap();

    // Create mint
    let mint = Keypair::new();
    let create_mint_ix = CreateMint::new(
        &authority.pubkey(),
        &mint.pubkey(),
        &authority.pubkey(),
        None,
        9, // 9 decimals
    ).instruction();

    let tx = Transaction::new_signed_with_payer(
        &[create_mint_ix],
        Some(&authority.pubkey()),
        &[&authority, &mint],
        svm.latest_blockhash(),
    );

    svm.send_transaction(tx).unwrap();

    // Create token account for user
    let token_account = Keypair::new();
    let create_account_ix = CreateAccount::new(
        &authority.pubkey(),
        &token_account.pubkey(),
        &mint.pubkey(),
        &user.pubkey(),
    ).instruction();

    let tx = Transaction::new_signed_with_payer(
        &[create_account_ix],
        Some(&authority.pubkey()),
        &[&authority, &token_account],
        svm.latest_blockhash(),
    );

    svm.send_transaction(tx).unwrap();

    // Mint tokens to user
    let mint_ix = MintTo::new(
        &mint.pubkey(),
        &token_account.pubkey(),
        &authority.pubkey(),
        1_000_000_000, // 1 token (with 9 decimals)
    ).instruction();

    let tx = Transaction::new_signed_with_payer(
        &[mint_ix],
        Some(&authority.pubkey()),
        &[&authority],
        svm.latest_blockhash(),
    );

    svm.send_transaction(tx).unwrap();

    println!("âœ… Token operations successful!");
}
```

## Key Points

1. **litesvm-token**: Helper crate that simplifies SPL token testing
2. **Mint Creation**: Create a mint with specified decimals and authorities
3. **Token Accounts**: Create token accounts to hold tokens for users
4. **Minting**: Mint tokens to token accounts using the mint authority
5. **Decimals**: Remember to account for decimals when specifying amounts

## See Also

- [Testing with SPL Tokens](/docs/testing-with-spl-tokens) - Comprehensive guide to SPL token testing
